[root@tw30mall ~]# firewall-cmd --zone=public --add-port=2375/tcp --permanent
success
[root@tw30mall ~]# firewall-cmd --reload
success
[root@tw30mall ~]# echo '{ "insecure-registries":["35.234.17.252:5000"] }' > /etc/docker/daemon.json
[root@tw30mall ~]# yum install -y nano
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror01.idc.hinet.net
 * epel: d2lzkl7pfhq30w.cloudfront.net
 * extras: mirror01.idc.hinet.net
 * updates: mirror01.idc.hinet.net
Resolving Dependencies
--> Running transaction check
---> Package nano.x86_64 0:2.3.1-10.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

======================================================================================================================================================================================================================================== Package                                              Arch                                                   Version                                                         Repository                                            Size
========================================================================================================================================================================================================================================Installing:
 nano                                                 x86_64                                                 2.3.1-10.el7                                                    base                                                 440 k

Transaction Summary
========================================================================================================================================================================================================================================Install  1 Package

Total download size: 440 k
Installed size: 1.6 M
Downloading packages:
nano-2.3.1-10.el7.x86_64.rpm                                                                                                                                                                                     | 440 kB  00:00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : nano-2.3.1-10.el7.x86_64                                                                                                                                                                                             1/1 
  Verifying  : nano-2.3.1-10.el7.x86_64                                                                                                                                                                                             1/1 

Installed:
  nano.x86_64 0:2.3.1-10.el7                                                                                                                                                                                                            

Complete!
[root@tw30mall ~]# nano /etc/docker/daemon.json
[root@tw30mall ~]# docker run -d -p 5000:5000 --restart=always --name registry2 registry:2
Unable to find image 'registry:2' locally
2: Pulling from library/registry
0a6724ff3fcd: Pull complete 
d550a247d74f: Pull complete 
1a938458ca36: Pull complete 
acd758c36fc9: Pull complete 
9af6d68b484a: Pull complete 
Digest: sha256:d5459fcb27aecc752520df4b492b08358a1912fcdfa454f7d2101d4b09991daa
Status: Downloaded newer image for registry:2
cf22700d17181fa2b6132152e23dec71dc2182bd3e6ed95b126c575d114f5f8e
[root@tw30mall ~]# nano /usr/lib/systemd/system/docker.service
[root@tw30mall ~]# systemctl stop docker
Warning: docker.service changed on disk. Run 'systemctl daemon-reload' to reload units.
Warning: Stopping docker.service, but it can still be activated by:
  docker.socket
[root@tw30mall ~]# systemctl start docker
Warning: docker.service changed on disk. Run 'systemctl daemon-reload' to reload units.
[root@tw30mall ~]# 